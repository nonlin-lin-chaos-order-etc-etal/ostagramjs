# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.
#
# Edited by https://mimi.link/gnome .

tasks:
  - init: npm install && npm run build && sudo apt -y install python3 curl libprotobuf-dev protobuf-compiler
    command: |
      pushd
      echo "installing qt4"
      sudo add-apt-repository ppa:rock-core/qt4
      sudo apt-get update
      sudo apt -y install qt4-default
      echo "qt4 done."
      echo 'installing torch7...'
      cd
      curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps | bash
      git clone https://github.com/torch/distro.git ~/torch --recursive
      cd ~/torch && ./install.sh
      source ~/.bashrc
      echo torch7 installed
      echo 'installing loadcaffe...'
      luarocks install loadcaffe
      echo loadcaffe installed
      echo 'fetching ns repo...'
      cd
      git clone https://github.com/jcjohnson/neural-style.git
      cd neural-style
      echo 'nd repo done.'
      echo 'fetching ns pretrained neural network models...'
      sh models/download_models.sh
      echo 'fetched.'
      echo 'launching the httpd'
      popd
      npm run start
vscode:
  extensions:
    - dbaeumer.vscode-eslint

